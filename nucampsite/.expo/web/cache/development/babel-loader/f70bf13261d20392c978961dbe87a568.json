{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/ayatrashid/Desktop/NucampFolder:4-React-Native /nucampsite/components/CampsiteInfoComponent.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Card, Icon, Rating } from 'react-native-elements';\nimport { connect } from 'react-redux';\nimport { baseUrl } from \"../shared/baseUrl\";\nimport { postComment as _postComment, postFavorite as _postFavorite } from \"../redux/ActionCreators\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    campsites: state.campsites,\n    comments: state.comments,\n    favorites: state.favorites\n  };\n};\n\nvar mapDispatchToProps = {\n  postFavorite: function postFavorite(campsiteId) {\n    return _postFavorite(campsiteId);\n  },\n  postComment: function postComment(campsiteId, rating, author, text) {\n    return _postComment(campsiteId, rating, author, text);\n  }\n};\n\nfunction RenderCampsite(props) {\n  var campsite = props.campsite;\n\n  if (campsite) {\n    return React.createElement(Card, {\n      featuredTitle: campsite.name,\n      image: {\n        uri: baseUrl + campsite.image\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: {\n        margin: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, campsite.description), React.createElement(View, {\n      style: styles.cardRow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }\n    }, React.createElement(Icon, {\n      name: props.favorite ? 'heart' : 'heart-o',\n      type: \"font-awesome\",\n      color: \"#f50\",\n      raised: true,\n      reverse: true,\n      onPress: function onPress() {\n        return props.favorite ? console.log('Already set as a favorite') : props.markFavorite();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }), React.createElement(Icon, {\n      name: \"pencil\",\n      type: \"font-awesome\",\n      color: \"#5637DD\",\n      raised: true,\n      reverse: true,\n      onPress: function onPress() {\n        return props.onShowModal();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    })));\n  }\n\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }\n  });\n}\n\nfunction RenderComments(_ref) {\n  var comments = _ref.comments;\n\n  var renderCommentItem = function renderCommentItem(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(View, {\n      style: {\n        margin: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 14\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, item.text), React.createElement(Rating, {\n      startingValue: item.rating,\n      style: {\n        paddingVertical: 10,\n        alignItems: 'flex-start',\n        paddingVertical: '5%'\n      },\n      value: item.rating,\n      imageSize: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 18\n      }\n    }), React.createElement(Text, {\n      style: {\n        fontSize: 12\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, \"-- \" + item.author + \", \" + item.date));\n  };\n\n  return React.createElement(Card, {\n    title: \"Comments\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: comments,\n    renderItem: renderCommentItem,\n    keyExtractor: function keyExtractor(item) {\n      return item.id.toString();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }));\n}\n\nvar CampsiteInfo = function (_Component) {\n  _inherits(CampsiteInfo, _Component);\n\n  var _super = _createSuper(CampsiteInfo);\n\n  function CampsiteInfo(props) {\n    var _this;\n\n    _classCallCheck(this, CampsiteInfo);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      showModal: false,\n      rating: 5,\n      author: '',\n      text: ''\n    };\n    return _this;\n  }\n\n  _createClass(CampsiteInfo, [{\n    key: \"toggleModal\",\n    value: function toggleModal() {\n      this.setState({\n        showModal: !this.state.showModal\n      });\n    }\n  }, {\n    key: \"handleComment\",\n    value: function handleComment(campsiteId) {\n      this.props.postComment(campsiteId, this.state.rating, this.state.author, this.state.text);\n      this.toggleModal();\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      this.setState({\n        showModal: false,\n        rating: 5,\n        author: '',\n        text: ''\n      });\n    }\n  }, {\n    key: \"markFavorite\",\n    value: function markFavorite(campsiteId) {\n      this.props.postFavorite(campsiteId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var campsiteId = this.props.navigation.getParam('campsiteId');\n      var campsite = this.props.campsites.campsites.filter(function (campsite) {\n        return campsite.id === campsiteId;\n      })[0];\n      var comments = this.props.comments.comments.filter(function (comment) {\n        return comment.campsiteId === campsiteId;\n      });\n      return React.createElement(ScrollView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, React.createElement(RenderCampsite, {\n        campsite: campsite,\n        favorite: this.props.favorites.includes(campsiteId),\n        markFavorite: function markFavorite() {\n          return _this2.markFavorite(campsiteId);\n        },\n        onShowModal: function onShowModal() {\n          return _this2.toggleModal();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }), React.createElement(RenderComments, {\n        comments: comments,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }\n      }), React.createElement(Modal, {\n        animationType: 'slide',\n        transparent: false,\n        visible: this.state.showModal,\n        onRequestClose: function onRequestClose() {\n          return _this2.toggleModal();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.modal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, React.createElement(Rating, {\n        showRating: true,\n        startingValue: this.state.rating,\n        onFinishRating: function onFinishRating(rating) {\n          return _this2.setState({\n            rating: rating\n          });\n        },\n        style: {\n          paddingVertical: 10,\n          alignItems: 'center',\n          paddingVertical: '5%'\n        },\n        value: this.state.rating,\n        imageSize: 40,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, React.createElement(TextInput, {\n        style: {\n          margin: 10,\n          borderBottomColor: '#000000',\n          borderBottomWidth: 1\n        },\n        leftIcon: {\n          type: 'font-awesome',\n          name: 'user-o'\n        },\n        placeholder: \"Author\",\n        leftIconContainerStyle: {\n          paddingRight: '10'\n        },\n        value: this.state.author,\n        onChangeText: function onChangeText(value) {\n          return _this2.setState({\n            author: value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 29\n        }\n      }), React.createElement(TextInput, {\n        style: {\n          margin: 10,\n          borderBottomColor: '#000000',\n          borderBottomWidth: 1\n        },\n        leftIcon: {\n          type: 'font-awesome',\n          name: 'user-o'\n        },\n        placeholder: \"Comment\",\n        leftIconContainerStyle: {\n          paddingRight: '10'\n        },\n        value: this.state.text,\n        onChangeText: function onChangeText(value) {\n          return _this2.setState({\n            text: value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 29\n        }\n      }))), React.createElement(View, {\n        style: styles.modal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          _this2.handleComment(campsiteId);\n\n          _this2.resetForm();\n        },\n        color: \"#5637DD\",\n        title: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: styles.modal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          _this2.toggleModal();\n\n          _this2.resetForm();\n        },\n        color: \"#808080\",\n        title: \"Cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n\n  return CampsiteInfo;\n}(Component);\n\nCampsiteInfo.navigationOptions = {\n  title: 'Campsite Information'\n};\nvar styles = StyleSheet.create({\n  cardRow: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    flexDirection: 'row',\n    margin: 20\n  },\n  modal: {\n    justifyContent: 'center',\n    margin: 20\n  }\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(CampsiteInfo);","map":{"version":3,"sources":["/Users/ayatrashid/Desktop/NucampFolder:4-React-Native /nucampsite/components/CampsiteInfoComponent.js"],"names":["React","Component","Card","Icon","Rating","connect","baseUrl","postComment","postFavorite","mapStateToProps","state","campsites","comments","favorites","mapDispatchToProps","campsiteId","rating","author","text","RenderCampsite","props","campsite","name","uri","image","margin","description","styles","cardRow","favorite","console","log","markFavorite","onShowModal","RenderComments","renderCommentItem","item","fontSize","paddingVertical","alignItems","date","id","toString","CampsiteInfo","showModal","setState","toggleModal","navigation","getParam","filter","comment","includes","modal","borderBottomColor","borderBottomWidth","type","paddingRight","value","handleComment","resetForm","navigationOptions","title","StyleSheet","create","justifyContent","flex","flexDirection"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Text, View, ScrollView, FlatList,Button, Modal, StyleSheet,  TextInput} from 'react-native';\nimport { Card, Icon, Rating} from 'react-native-elements';\nimport { connect } from 'react-redux';\nimport { baseUrl } from '../shared/baseUrl';\nimport { postComment, postFavorite } from '../redux/ActionCreators';\n\n\n\n\nconst mapStateToProps = state => {\n    return {\n        campsites: state.campsites,\n        comments: state.comments,\n        favorites: state.favorites\n    };\n};\n\nconst mapDispatchToProps = {\n    postFavorite: campsiteId => (postFavorite(campsiteId)),\n    postComment: (campsiteId,rating, author,text ) => (postComment(campsiteId,rating, author,text ))\n};\n\nfunction RenderCampsite(props) {\n\n    const {campsite} = props;\n    if (campsite) {\n        return (\n            <Card\n                featuredTitle={campsite.name}\n                image={{uri: baseUrl + campsite.image}}>\n            \n                <Text style={{margin: 10}}>\n                    {campsite.description}\n                </Text>\n                <View style={styles.cardRow}>\n                    <Icon\n                        name={props.favorite ? 'heart' : 'heart-o'}\n                        type='font-awesome'\n                        color='#f50'\n                        raised\n                        reverse\n                        onPress={() => props.favorite ? \n                            console.log('Already set as a favorite') : props.markFavorite()}\n                    />\n                    <Icon\n                        name='pencil'\n                        type='font-awesome'\n                        color='#5637DD'\n                        raised\n                        reverse\n                        onPress={() => props.onShowModal()}\n                    />\n                </View>\n\n            </Card>\n        );\n    }\n    return <View />;\n}\n\n\nfunction RenderComments({comments}){\n\n    const renderCommentItem = ({item}) => {\n        return (\n            <View style={{margin: 10}}>\n                <Text style={{fontSize: 14}}>{item.text}</Text>\n                 <Rating\n                 \n                 startingValue={item.rating}\n                \n                 style={{ paddingVertical: 10, alignItems:'flex-start' ,paddingVertical:'5%' }}\n                 value={item.rating}\n                 imageSize={10}/>\n                <Text style={{fontSize: 12}}>{`-- ${item.author}, ${item.date}`}</Text>\n            </View>\n        );\n    };\n\n    return (\n        <Card title='Comments'>\n            <FlatList\n                data={comments}\n                renderItem={renderCommentItem}\n                keyExtractor={item => item.id.toString()}\n            />\n        </Card>\n    );\n}\n\n\nclass CampsiteInfo extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showModal: false,\n            rating:5,\n            author:'',\n            text:''\n        };\n    }\n\n    toggleModal() {\n        this.setState({showModal: !this.state.showModal});\n    }\n    handleComment(campsiteId){\n       this.props.postComment(campsiteId,this.state.rating,this.state.author,this.state.text)\n        this.toggleModal();\n    }\n    \n        resetForm() {\n            this.setState({\n                showModal: false,\n                rating:5,\n                author:'',\n                text:''\n            });\n        }\n\n\n    markFavorite(campsiteId) {\n        this.props.postFavorite(campsiteId);\n    }\n\n    \n    static navigationOptions = {\n        title: 'Campsite Information'\n    }\n    \n\n    render() {\n        const campsiteId = this.props.navigation.getParam('campsiteId');\n        const campsite = this.props.campsites.campsites.filter(campsite => campsite.id === campsiteId)[0];\n        const comments = this.props.comments.comments.filter(comment => comment.campsiteId === campsiteId);\n        return (\n            \n            \n            <ScrollView>\n                <RenderCampsite campsite={campsite}\n                    favorite={this.props.favorites.includes(campsiteId)}\n                    markFavorite={() => this.markFavorite(campsiteId)}\n                    onShowModal={() => this.toggleModal()}\n                />\n                <RenderComments comments={comments}  />\n                <Modal\n                    animationType={'slide'}\n                    transparent={false}\n                    visible={this.state.showModal}\n                    onRequestClose={() => this.toggleModal()}\n                    >\n                    <View style={styles.modal}>\n\n                        <Rating\n                            showRating\n                            startingValue={this.state.rating}\n                            onFinishRating={rating => this.setState({rating: rating})} \n                            style={{ paddingVertical: 10, alignItems:'center',paddingVertical:'5%' }}\n                            value={this.state.rating}\n                            imageSize={40}\n                            />\n\n                        <View>\n                            <TextInput style={{margin: 10, borderBottomColor: '#000000', borderBottomWidth: 1,}}\n                                leftIcon={{ type: 'font-awesome', name: 'user-o'}}\n                                placeholder = \"Author\"\n                                leftIconContainerStyle={{paddingRight:'10'}}\n                                value={this.state.author}\n                                onChangeText = {(value)=>this.setState({author:value})}/>\n                        \n                            <TextInput style={{margin: 10, borderBottomColor: '#000000', borderBottomWidth: 1,}}\n                                leftIcon={{ type: 'font-awesome', name: 'user-o'}}\n                                placeholder = \"Comment\"\n                                leftIconContainerStyle={{paddingRight:'10'}}\n                                value={this.state.text}\n                                onChangeText = {(value)=>this.setState({text:value})}/>\n                        </View>\n\n                    </View>\n\n                    <View style = {styles.modal}>\n                    <Button\n                                onPress={() => {\n                                    this.handleComment(campsiteId);\n                                    this.resetForm();\n                                }}\n                                color='#5637DD'\n                                title='Submit'\n                            />\n                    </View>\n                    <View style = {styles.modal}>\n                        <Button\n                                onPress={() => {\n                                    this.toggleModal();\n                                    this.resetForm();\n                                }}\n                                color='#808080'\n                                title='Cancel'\n                            />\n                    </View>\n                </Modal>\n            </ScrollView>\n        );\n\n    }\n}\nconst styles = StyleSheet.create({\n    cardRow: {\n        alignItems: 'center',\n        justifyContent: 'center',\n        flex: 1,\n        flexDirection: 'row',\n        margin: 20\n    },\n    modal: { \n        justifyContent: 'center',\n        margin: 20\n    }\n})\n\nexport default connect(mapStateToProps,mapDispatchToProps)(CampsiteInfo);"]},"metadata":{},"sourceType":"module"}